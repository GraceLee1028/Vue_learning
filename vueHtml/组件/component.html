<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>组件</title>
    <link rel="stylesheet" href="../../css/vue.css">
</head>
<body>
<div id="com2">
    <my-global></my-global>
</div>
<main id="component">
    <h1>{{title}}</h1>
    <ol>
        <li><a href="#global">全局组件</a></li>
        <li><a href="#local">局部组件</a></li>
        <li><a href="#group">组件组合</a></li>
        <li><a href="#dataFlow">数据流</a></li>
        <li><a href="#propertyDeal">属性合并</a></li>
        <li><a href="#eventOwn">自定义事件</a></li>
    </ol>
    <section id="global">
        <h4 class="title-small">全局组件</h4>
        <my-global></my-global>
    </section>
    <section id="local">
        <h4 class="title-small">局部组件</h4>
        <my-local></my-local>
    </section>
    <section id="group">
        <h4 class="title-small">全局组件</h4>
        <p>形成父子组件的关系：组件 A 在它的模板中使用了组件 B。<br>
            它们之间必然需要相互通信：父组件可能要给子组件下发数据，子组件则可能要将它内部发生的事情告知父组件。<br>
            然而，通过一个良好定义的接口来尽可能将父子组件解耦也是很重要的。这保证了每个组件的代码可以在相对隔离<br>
            的环境中书写和理解，从而提高了其可维护性和复用性。<br>
            在 Vue 中，<strong>父子组件的关系可以总结为 prop 向下传递，事件向上传递。</strong><br>
            父组件通过 prop 给子组件下发数据，子组件通过事件给父组件发送消息。看看它们是怎么工作的。</p>
        <h5>1、使用 Prop 传递数据</h5>
        <p>组件实例的作用域是孤立的。这意味着不能 (也不应该) 在子组件的模板内直接引用父组件的数据。<br>父组件的数据需要通过 prop 才能下发到子组件中。</p>
        <child-title title="给子组件传入内容"></child-title>
        <p>你是小明？</p>
        <child-value data-value="我是小明"></child-value>
        <h5>2、动态props</h5>
        <p>123456</p>
        <input type="text" v-model="pwd">
        <password :pwd="pwd"></password>
        <h5>3、把一个对象的所有属性作为 prop 进行传递，使用v-bind</h5>
        <info v-bind="userInfo"></info>
        <strong>v-bind:如果要传递真正的数值就可以使用v-bind</strong>
    </section>
    <section id="dataFlow">
        <h4 class="title-small">数据流</h4>
        <!--<p>1、Prop 作为初始值传入后，子组件想把它当作局部数据来用；</p>-->
        <!--<child-one initialCounter="1"></child-one>-->
        <!--<p>Prop 作为原始数据传入，由子组件处理成其它数据输出。</p>-->
        <!--<child-two initialCounter="1"></child-two>-->
    </section>
    <section id="dataValidate">
        <h4 class="title-small">props验证</h4>
    </section>
    <section id="propertyDeal">
        <h4 class="title-small">属性合并/替换</h4>
        <h5>class 合并</h5>
        <text-tip txt="置灰"></text-tip>
        <text-tip txt="成功" class="success"></text-tip>
        <text-tip txt="失败" class="error"></text-tip>
        <h5>style 合并<strong>相同样式时：父组件style样式会覆盖子组件的style样式</strong></h5>
        <text-tip txt="置灰" style="color:#999;background-color: #b2b2b2;"></text-tip>
        <text-tip txt="成功" style="color:#fff;background-color: #009966;"></text-tip>
        <text-tip txt="失败" style="color:#fff;background-color:red;"></text-tip>
    </section>
    <section id="eventOwn">
        <h4 class="title-small">自定义事件:子组件跟父组件通信</h4>
        <p>使用 $on(eventName) 监听事件<br>
            使用 $emit(eventName) 触发事件</p>
        <p>{{ total }}</p>
        <button-counter v-on:increment="incrementTotal"></button-counter>
    </section>
</main>
</body>
<script src="../../plugins/vue.js"></script>
<script src="../js/component.js?030701"></script>
</html>